<div class="container mt-3">
    <div class="text-center">
        <h2>ABMC Palabras</h2>
    </div>
</div>
<div class="container">
    <form (ngSubmit)="submit()" #formulario='ngForm'>
        <div class="form-row mt-2">
            <div class="col">
                <label for="dificultad">Dificultades: </label>
                <select name="dificultad" [(ngModel)]="palabra.idDificultad" required class="form-control" #dificultad="ngModel" (change)="cambioDificultad()">
                  <option *ngFor="let dificultad of dificultades" [value]="dificultad.id">{{dificultad.descripcion}}</option>
                </select>
            </div>
            <div class="col">
                <label for="genero">Género: </label>
                <select name="genero" [(ngModel)]="palabra.idGenero" class="form-control" #genero="ngModel" required>
                  <option *ngFor="let genero of generos" [value]="genero.id">{{genero.descripcion}}</option>
                </select>
            </div>
        </div>
        <div class="form-row mt-1">
            <!-- <div class="col">
                <label for="codigo">Código: </label>
                <input type="text" name="codigo" id="codigo" class="form-control" [(ngModel)]="palabra.codigo" #codigo="ngModel" required>
            </div> -->
            <div class="col">
                <label for="texto">Texto: </label>
                <input type="text" name="texto" id="texto" class="form-control" [(ngModel)]="palabra.texto" #texto="ngModel" required [minlength]="minimo" [maxlength]="maximo">
            </div>
        </div>
        <div *ngIf="!texto.valid && texto.dirty" class="alert alert-danger mt-1">
            <div *ngIf="texto.errors.required">El campo es requerido.</div>
            <div *ngIf="texto.errors.minlength">El campo debe tener al menos {{minimo}} caracteres.</div>
            <div *ngIf="texto.errors.maxlength">El campo debe tener como máximo {{maximo}} caracteres.</div>
        </div>
        <div class="form-row mt-1">
            <div class="col">
                <label for="pista">Pista: </label>
                <input type="text" name="pista" id="pista" class="form-control" [(ngModel)]="palabra.pista" #pista="ngModel">
            </div>
        </div>
        <div class="form-row mt-2">
            <div class="col">
                <button type="submit" class="btn btn-default btn-primary mr-2" [disabled]="!formulario.valid">Registrar</button>
                <button type="reset" class="btn btn-danger">Limpiar</button>
            </div>
        </div>
    </form>
</div>
<pre>{{palabra | json}}</pre>
<pre>{{formulario.valid}}</pre>